##
## Starter Kit configuration for Velero
##
configuration:
  # provider is the name for the backup storage location provider.
  provider: aws
  # Parameters for the `default` BackupStorageLocation. See
  # https://velero.io/docs/v1.6/api-types/backupstoragelocation/
  backupStorageLocation:
    # bucket is the name of the bucket to store backups in. Required.
    bucket: starterkit-velero
    config:
      region: fra1# e.g. nyc1
      s3Url: https://fra1.digitaloceanspaces.com  # e.g.: https://nyc1.digitaloceanspaces.com 

  # Parameters for the `default` VolumeSnapshotLocation. See
  # https://velero.io/docs/v1.6/api-types/volumesnapshotlocation/
  volumeSnapshotLocation:
    provider: digitalocean.com/velero

  # Additional key/value pairs to be used as environment variables
  extraEnvVars:
    DIGITALOCEAN_TOKEN: dop_v1_01e1c10478012026ee9cd0f77b4b994d40a0a83ca4b1447e9ee9c7f628487b93

# Info about the DO Spaces credentials to be used by the Velero deployment
credentials:
  secretContents:
    cloud: |
      [default]
      aws_access_key_id=TVMIARKQQPZPBCNWGIKK
      aws_secret_access_key=1KHFdgV07i6g4+bY5RYruLH0ZF4GKn/iuzZZvvh9ZDQ

# Init containers to add to the Velero deployment's pod spec. At least one plugin provider image is required.
initContainers:
  - name: velero-plugin-for-aws
    image: velero/velero-plugin-for-aws:v1.3.0
    imagePullPolicy: IfNotPresent
    volumeMounts:
      - mountPath: /target
        name: plugins
  - name: velero-plugin
    image: digitalocean/velero-plugin:v1.0.0
    imagePullPolicy: IfNotPresent
    volumeMounts:
      - mountPath: /target
        name: plugins

# Whether to deploy the restic daemonset.
deployRestic: false
